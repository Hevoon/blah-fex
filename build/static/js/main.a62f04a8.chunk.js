(this["webpackJsonpfe-x"]=this["webpackJsonpfe-x"]||[]).push([[0],{291:function(e,t,n){},309:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},320:function(e,t,n){},323:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(29),o=n.n(r),i=n(78),l=n(330),s=n(31),u=n(10),d=i.a.SubMenu,j=function(){var e=Object(s.f)();return Object(u.jsx)(i.a,{onClick:function(t){e.push("/".concat(t.key))},style:{width:256,height:"100%",flexBasis:"256px",flexGrow:0,flexShrink:0,background:"rgba(81, 47, 124, 0.1)"},defaultSelectedKeys:["find"],defaultOpenKeys:["sub1"],mode:"inline",children:Object(u.jsxs)(d,{icon:Object(u.jsx)(l.a,{}),title:"\u64cd\u4f5c\u4e2d\u5fc3",children:[Object(u.jsx)(i.a.Item,{children:"\u62bd\u53d6\u9898\u76ee"},"find"),Object(u.jsx)(i.a.Item,{children:"\u5f55\u5165\u9898\u76ee"},"add"),Object(u.jsx)(i.a.Item,{children:"\u9898\u5e93"},"all")]},"sub1")})},p=function(){return Object(u.jsx)(j,{})},f=(n(291),n(30)),b=n.n(f),x=n(58),m=n(14),O=n(180),h=n(40),g=n(326),v=n(74),y=n(93),S=n.n(y);function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,a){S.a.get(e,{params:t}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,c){S.a.post(e,t,n).then((function(e){a(e)})).catch((function(e){c(e)}))}))}S.a.defaults.baseURL="http://101.132.132.215:3000";var k,N,C=n(54),F=n.n(C),T=Object(v.b)({key:"framework",default:void 0}),z=Object(v.b)({key:"topic",default:void 0}),A=(n(309),[{title:"\u4e66\u7c4d\u540d\u79f0",dataIndex:"name",render:function(e){return Object(u.jsx)("span",{style:{width:"200px",display:"flex",marginRight:"-180px"},children:e})}},{title:"\u6846\u67b6\u7ae0\u8282",dataIndex:"content",render:function(e){return Object(u.jsx)("span",{style:{width:"200px",display:"flex",marginRight:"-180px"},children:e})}}]),R=[{title:"\u540d\u79f0",dataIndex:"name",render:function(e){return Object(u.jsx)("span",{style:{width:"200px",display:"flex",marginRight:"-180px"},children:e})}},{title:"\u9898\u76ee\u7c7b\u578b",dataIndex:"category"},{title:"\u63cf\u8ff0",dataIndex:"content",render:function(e){return Object(u.jsx)("span",{style:{width:"200px",display:"flex",marginRight:"-180px"},children:e})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",render:function(e){return F()(e).format("YYYY-MM-DD")}}],J=function(){var e=Object(v.c)(T)||[],t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(v.c)(z)||[],o=Object(m.a)(r,2),i=o[0],l=o[1],s=Object(a.useState)(!1),d=Object(m.a)(s,2),j=d[0],p=d[1],f=Object(a.useState)(!1),y=Object(m.a)(f,2),S=y[0],I=y[1];Object(a.useEffect)((function(){var e=localStorage.getItem("framework"),t=localStorage.getItem("topic");c(JSON.parse(e)),l(JSON.parse(t))}),[]);var k=function(){var e=Object(x.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),t=localStorage.getItem("framework")){e.next=13;break}return e.next=5,w("/getFramework");case 5:n=e.sent,p(!1),(!n.data||n.data.length<1)&&O.b.info("\u672a\u5f55\u5165\u6846\u67b6"),a=JSON.stringify(n.data),window.localStorage.setItem("framework",a),c(n.data),e.next=16;break;case 13:O.b.info("\u672c\u5730\u5df2\u5b58\u5728\u62bd\u5230\u7684\u9898\u76ee"),c(JSON.parse(t)),p(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!0),t=localStorage.getItem("topic")){e.next=13;break}return e.next=5,w("/getTopic");case 5:(!(n=e.sent).data||n.data.length<1)&&O.b.info("\u672a\u67e5\u8be2\u5230\u6570\u636e"),I(!1),a=JSON.stringify(n.data),window.localStorage.setItem("topic",a),l(n.data),e.next=16;break;case 13:O.b.info("\u672c\u5730\u5df2\u5b58\u5728\u62bd\u5230\u7684\u9898\u76ee"),l(JSON.parse(t)),I(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"find",children:[Object(u.jsx)("div",{style:{fontSize:"20px",fontWeight:800,width:"100%",marginBottom:"16px"},children:"\u6846\u67b6\u9ed8\u5199"}),Object(u.jsx)(h.a,{type:"primary",size:"large",onClick:k,loading:j,children:"\u67e5\u8be2\u6846\u67b6"}),Object(u.jsx)(h.a,{type:"primary",size:"large",style:{marginLeft:"20px"},onClick:function(){localStorage.removeItem("framework"),O.b.info("\u5df2\u6e05\u9664\u62bd\u5230\u7684\u6846\u67b6")},children:"\u6e05\u9664\u672c\u5730\u6846\u67b6"}),Object(u.jsx)(g.a,{columns:A,dataSource:n,className:"table1",pagination:!1}),Object(u.jsx)("div",{style:{fontSize:"20px",fontWeight:800,width:"100%",marginBottom:"16px"},children:"\u6a21\u62df\u7ec3\u9898"}),Object(u.jsx)(h.a,{type:"primary",size:"large",onClick:N,loading:S,children:"\u83b7\u53d6\u6a21\u62df\u7ec3\u9898"}),Object(u.jsx)(h.a,{type:"primary",style:{marginLeft:"20px"},size:"large",onClick:function(){localStorage.removeItem("topic"),O.b.info("\u5df2\u6e05\u9664\u62bd\u5230\u7684\u9898\u76ee")},children:"\u6e05\u9664\u672c\u5730\u9898\u76ee"}),Object(u.jsx)(g.a,{columns:R,dataSource:i,className:"table2",pagination:!1})]})},M=n(56),Y=n(27),D=n(26),q=n(38),B=(n(315),q.c.TextArea),$=Object(Y.a)(),E=Object(D.c)({components:(k={FormItem:q.b,Input:q.c,Select:q.d},Object(M.a)(k,"Input",q.c),Object(M.a)(k,"TextArea",B),k)}),L=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1];Object(a.useRef)(null);return Object(u.jsx)("div",{className:"add",children:!n&&Object(u.jsxs)(q.a,{form:$,onAutoSubmit:function(e){var t=new FormData;t.append("name",e.name),t.append("category",e.category||"\u6846\u67b6"),t.append("content",e.content);c(!0),I("/addTopic",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){c(!1),O.b.success("\u521b\u5efa\u6210\u529f");var t={name:"",category:e.category||"",content:""};e.category||(t.category=""),$.setValues(t)})).catch((function(e){return console.log(e)}))},children:[Object(u.jsxs)(E,{children:[Object(u.jsx)(E.String,{required:!0,name:"select",title:"\u5f55\u5165\u7c7b\u578b",default:"v2",enum:[{label:"\u6846\u67b6",value:"v1"},{label:"\u6a21\u62df\u9898\u76ee",value:"v2"}],"x-component":"Select","x-decorator":"FormItem","x-reactions":[{target:"name",fulfill:{schema:{title:'{{$self.value === "v1"?"\u4e66\u7c4d\u540d\u79f0" :"\u771f\u9898\u9898\u76ee"}}'}}},{target:"content",fulfill:{schema:{title:'{{$self.value === "v1"?"\u6846\u67b6\u7ae0\u8282" :"\u9898\u76ee\u5185\u5bb9"}}',"x-component":'{{$self.value === "v1"?"Input" :"TextArea"}}'}}},{target:"category",fulfill:{state:{visible:'{{$self.value === "v2"}}'}}}]}),Object(u.jsx)(E.String,{name:"name",title:"\u771f\u9898\u9898\u76ee","x-component":"Input","x-decorator":"FormItem","x-component-props":{autoFocus:!0},required:!0}),Object(u.jsx)(E.String,{name:"category",title:"\u9898\u76ee\u7c7b\u522b","x-component":"Select","x-decorator":"FormItem",default:"\u540d\u8bcd\u89e3\u91ca",required:!0,enum:[{label:"\u540d\u8bcd\u89e3\u91ca",value:"\u540d\u8bcd\u89e3\u91ca"},{label:"\u7b80\u7b54\u9898",value:"\u7b80\u7b54\u9898"},{label:"\u8bba\u8ff0\u9898",value:"\u8bba\u8ff0\u9898"},{label:"\u7efc\u5408\u9898",value:"\u7efc\u5408\u9898"}]}),Object(u.jsx)(E.String,{name:"content",title:"\u9898\u76ee\u5185\u5bb9","x-component":"TextArea","x-decorator":"FormItem","x-component-props":{className:"content"}})]}),Object(u.jsx)("div",{className:"btn",children:Object(u.jsx)(q.e,{block:!0,size:"large",loading:n,children:"\u5f55\u5165"})})]})})},K=n(327),P=n(328),V=n(136),W=n(329),_=(n(316),q.c.TextArea),G=Object(Y.a)(),U=Object(D.c)({components:(N={FormItem:q.b,Input:q.c,Select:q.d},Object(M.a)(N,"Input",q.c),Object(M.a)(N,"TextArea",_),N)}),H=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(m.a)(r,2),i=o[0],l=o[1],s=Object(a.useState)(!1),d=Object(m.a)(s,2),j=d[0],p=d[1],f=Object(a.useState)(1),O=Object(m.a)(f,2),v=O[0],y=O[1],S=Object(a.useState)(10),k=Object(m.a)(S,2),N=k[0],C=k[1],T=Object(a.useState)(""),z=Object(m.a)(T,2),A=z[0],R=z[1],J=Object(a.useState)(""),M=Object(m.a)(J,2),Y=M[0],D=M[1],B=Object(a.useState)({}),$=Object(m.a)(B,2),E=($[0],$[1]),L=Object(a.useState)(""),_=Object(m.a)(L,2),H=_[0],Q=_[1],X=function(){var e=Object(x.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,w("/getAll?current=".concat(v,"&&search=").concat(A));case 3:t=e.sent,l(!1),c(t.data.data),C(t.data.total),(n=N/10>Math.floor(N/10)?Math.floor(N/10)+1:Math.floor(N/10))<v&&y(n||1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){X()}),[v,A]);var Z=Object(W.a)(function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(1),R(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{wait:500}).run,ee=function(){var e=Object(x.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),(n=new FormData).append("id",t),a={headers:{"Content-Type":"multipart/form-data"}},e.next=6,I("/delete",n,a);case 6:return e.next=8,X();case 8:l(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),p(!1),t=G.values,console.log(t),(n=new FormData).append("id",H),n.append("name",t.name),n.append("category",t.category),n.append("content",t.content),a={headers:{"Content-Type":"multipart/form-data"}},e.next=12,I("/update",n,a);case 12:return e.next=14,X();case 14:l(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=[{title:"\u540d\u79f0",dataIndex:"name",render:function(e){return Object(u.jsx)("span",{style:{width:"200px",display:"flex",marginRight:"-180px"},children:e})}},{title:"\u9898\u76ee\u7c7b\u578b",dataIndex:"category",width:200},{title:"\u63cf\u8ff0",dataIndex:"content",render:function(e){return Object(u.jsx)("span",{style:{width:"200px",display:"flex",marginRight:"-180px"},children:e})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",width:200,render:function(e){return F()(e).format("YYYY-MM-DD")}},{title:"\u64cd\u4f5c",width:200,render:function(e){return Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(u.jsx)(h.a,{type:"primary",onClick:function(){return function(e){E({name:e.name,category:e.category,content:e.content}),G.setValues({name:e.name,category:e.category,content:e.content}),console.log(e),Q(e.id),p(!0)}(e)},style:{marginRight:"8px"},children:"\u7f16\u8f91"}),Object(u.jsx)(h.a,{danger:!0,onClick:function(){ee(e.id)},children:"\u5220\u9664"})]})}}];return Object(u.jsxs)("div",{className:"find",children:[Object(u.jsx)(K.a,{placeholder:"\u8bf7\u8f93\u5165\u9898\u76ee\u540d\u5b57",allowClear:!0,prefix:Object(u.jsx)(V.a,{}),size:"large",onChange:function(e){var t=e.target.value;D(t),Z(t)},value:Y}),Object(u.jsx)(g.a,{loading:i,columns:ne,dataSource:n,className:"table2",title:function(){return"\u9898\u5e93"},pagination:{current:v,total:N,pageSize:10},onChange:function(e){y(e.current)}}),Object(u.jsx)(P.a,{visible:j,destroyOnClose:!0,onOk:te,onCancel:function(){return p(!1)},okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88",width:"60%",children:Object(u.jsx)(q.a,{form:G,className:"form-box",children:Object(u.jsxs)(U,{children:[Object(u.jsx)(U.String,{name:"name",title:"\u771f\u9898\u9898\u76ee","x-component":"Input","x-decorator":"FormItem",required:!0}),Object(u.jsx)(U.String,{name:"category",title:"\u9898\u76ee\u7c7b\u522b","x-component":"Select","x-decorator":"FormItem",default:"\u540d\u8bcd\u89e3\u91ca",required:!0,enum:[{label:"\u540d\u8bcd\u89e3\u91ca",value:"\u540d\u8bcd\u89e3\u91ca"},{label:"\u7b80\u7b54\u9898",value:"\u7b80\u7b54\u9898"},{label:"\u8bba\u8ff0\u9898",value:"\u8bba\u8ff0\u9898"},{label:"\u7efc\u5408\u9898",value:"\u7efc\u5408\u9898"}]}),Object(u.jsx)(U.String,{name:"content",title:"\u9898\u76ee\u5185\u5bb9","x-component":"TextArea","x-decorator":"FormItem",required:!0})]})})})]})},Q=(n(317),function(){return Object(u.jsxs)("div",{className:"router",children:[Object(u.jsx)(s.a,{path:"/",to:"/find"}),Object(u.jsx)(s.b,{exact:!0,path:"/find",component:J}),Object(u.jsx)(s.b,{exact:!0,path:"/add",component:L}),Object(u.jsx)(s.b,{exact:!0,path:"/all",component:H})]})}),X=function(){return console.log("fick"),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)(p,{}),Object(u.jsx)(Q,{})]})},Z=c.a.memo(X),ee=(n(318),n(113));var te=function(){return Object(u.jsx)(v.a,{children:Object(u.jsx)(ee.a,{children:Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(Z,{})})})})};n(319),n(320),n(321),n(322);F.a.locale("zh-cn"),o.a.render(Object(u.jsx)(te,{}),document.getElementById("root"))}},[[323,1,2]]]);
//# sourceMappingURL=main.a62f04a8.chunk.js.map